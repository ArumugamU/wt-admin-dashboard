<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Witmer Admin Dashboard</title>

    <!-- Bootstrap core CSS -->

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <!-- FA -->
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">

    <link href="/css/jquery.treeSelection.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- style -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/sidebar.css">

    <!-- sidebar -->

    <style>
     .domain-table  tr {
   /* line-height: 55px;
   min-height: 55px;
   height: 55px; */
}

.table-bordered td, .table-bordered th {
    border: none;
}
.table > thead td
{
    font-size: 12px;
    text-transform: capitalize;

}

.table td
{
    font-size: 14px;
    text-transform: capitalize;

}


.btn-outline-success:not(:disabled):not(.disabled):active
 {

    background-color: #263a5be6;
    color: #fff;
}
.btn-add-domain
{
    padding: 7px 10px;
    border-radius: 10px;
    width: 20%;
}


.sidebar-menu ul li a:focus {
  color: #263a5be6;
}

.modal-header .close
{
    margin:unset;
}

.imgMask {
    position: relative;
    width: 200px;
    height: 200px;
    border: 1px solid black;
    cursor: pointer;
}
.imgMask-content {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    font-size: 40px;
}
.imgg{
    position: absolute;
    width: 200px;
    height: 200px;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;
}

#sub-domain-img{
  position: absolute;
    width: 202px;
    height: 200px;
    top: 0;
    z-index: -1;
}


.flex {
  display: flex;
}
.wrap {
  flex-wrap: wrap;
}

.upload__list {
  position: relative;
  padding: 5px 15px;
  border: 1px solid #ececec;
}
.upload__info {
  height: 80px;
  border-bottom: 1px solid #ececec;
  flex-direction: row;
  align-items: center;
}
.upload__info:last-child {
  border: none;
}

.upload__img {
  width: 80px;
  height: 80%;
  margin-right: 10px;
  object-fit: cover;
  -o-object-fit: cover;
}

.upload__progress {
  background: #ddd;
  height: 7px;
  width: 100%;
  margin-top: 10px;
}
.upload__bar {

  background-image: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.15) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.15) 75%,
    transparent 75%,
    transparent
  );

  background-size: 1rem 1rem;
  width: 50%;
  height: 100%;
  background-color: #3695db;
  transition: all 0.3s ease;
}
.w-100 {
  width: 100%;
}
.upload__name {
  margin: 7px 5px 0px 0px;
}
.upload__size {
  margin: 7px 5px 0px 5px;
}
.upload__long {
  margin: 7px 0px 0px 5px;
  font-weight: bold;
}
.upload__btn {
  text-decoration: none;
  color: #fff;
  background: #3b4d6b;
    padding: 7px 15px;
    border-radius: 50px;
}
.upload__delete {
  margin-left: auto;
}
.upload__input {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
}
.upload__drop {
  position: relative;
  /* border: 2px dotted #3695db; */
  padding: 15px 10px;
  overflow: hidden;
  margin-bottom: 10px;
  cursor: pointer;
}
.form-control {
   
    border: 1px solid rgb(223, 225, 230);
 
}

.domain-table tr:hover
{
  outline: none;
    background-color: rgb(235, 236, 240); 
}
.domain-table tr
{
  outline: none;
}


.btn-edit-subdomain {
background-color: unset; 
  border: none;  
  padding: 2px 6px;  
  font-size: 16px;  
  cursor: pointer; /* Mouse pointer on hover */
}
.btn-edit-subdomain:hover {
    background-color: rgb(235, 236, 240); 
}


    </style>


</head>

<body>

    <section>

        <!-- HEADER -->
        <div class="sticky-header">
            <header class="pt-3 mb-3 bg-light border-bottom ">
                <div class="container-fluid">
                    <div class="d-flex flex-wrap align-items-center justify-content-between ">
                        <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none logo">
                            <img src="/images/wtlogo.png" alt="" srcset="">
                        </a>

                        <div class="  text-end ms-auto">

                            <ul class=" text-small" aria-labelledby="dropdownUser1" style="list-style-type: none;">
                                <li> <i class="fas fa-sign-out-alt"></i>&nbsp;&nbsp;
                                    <a class=" text-decoration-none list user-name" href="#"><b>John</b></a>
                                </li>
                                <li><a class=" text-decoration-none user-role" href="#"><small>Admin</small></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </header>
        </div>
        <!-- HEADER -->



        <div class="page-wrapper chiller-theme toggled">
            <a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
                <i class="fas fa-bars"></i>
            </a>

            <!-- sidebar-wrapper  -->

            <nav id="sidebar" class="sidebar-wrapper">
                <div class="sidebar-content">

                    <div class="sidebar-menu">
                        <ul>

                            <li class=" ">
                                <a href="#">

                                    <span> User Management</span>

                                </a>

                            </li>
                            <li class="sidebar-dropdown">
                                <a href="#">

                                    <span>Content Management</span>

                                </a>
                                <div class="sidebar-submenu">
                                    <ul>
                                        <li>
                                            <a href="#">Domain

                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">Sub Domain</a>
                                        </li>
                                        <li>
                                            <a href="#">Tags</a>
                                        </li>
                                        <li>
                                            <a href="#">Intervention</a>
                                        </li>
                                        <li>
                                            <a href="#">Intervention Plan</a>
                                        </li>
                                        <li>
                                            <a href="#">Questionnaire</a>
                                        </li>
                                        <li>
                                            <a href="#">Screener</a>
                                        </li>
                                    </ul>
                                </div>
                            </li>



                        </ul>
                    </div>
                    <!-- sidebar-menu  -->
                </div>
                <!-- sidebar-content  -->

            </nav>

            <!-- sidebar-wrapper  -->


            <main class="page-content">
                <div class="container-fluid">

                    <div class="row ">

                        <div class="col-md-6 mb-3">
                            <h5 class="float-start"> Sub Domain </h5>
                        </div>
                        <div class="col-md-6  mb-3 d-flex justify-content-end">
                            <button type="button" class="btn btn-outline-success " type="button" class="btn btn-primary" data-toggle="modal" data-target="#addSubDomain"> Sub Domain</button>
                        </div>

                           <!-- Table -->
                           <div class="col-md-12">
                            <div class="table-responsive ">
                                <table class="table domain-table table-bordered">
                                    <thead>
                                        <tr class=" ">
                                            <td class="col-sm-2">Name</td>
                                            <td class="col-sm-4">Description </td>
                                            <td class="col-sm-2">Domain </td>
                                            <td class="col-sm-2">Status</td>
                                            <td class="col-sm-2">Action</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="content">
                                            <td class="col-sm-2">Stress</th>
                                            <td> </td>
                                            <td> </td>
                                            <td>Activated </td>
                                            <td><button id="edit_content" class="btn-edit-subdomain"><i class="fas fa-edit  ml-5" id="eidt-sub-domain"></i></button></td>
                                        </tr>
                                        

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- Table -->

                    </div>
                    <!-- row -->


                    <!-- Navigation -->
                    <nav aria-label="Page navigation ">
                        <ul class="pagination d-flex justify-content-end  ">
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>

                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <!-- Navigation END-->

                    <!-- Modal -->
                <div  id="addSubDomain" class="modal fade page-model modal-fullscreen" tabindex="-1" role="dialog">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                              <!-- <h5 class="modal-title" id="exampleModalLabel">Sub Domain</h5> -->
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">

                                <div class="container">
                                    <div class="row justify-content-center">
                                        <div class="col-md-8">
                                          <h5 class="modal-title text-center" id="exampleModalLabel">Sub Domain</h5>
                            
                                <form class="mt-3">
                                <div class="form-group d-flex">
                                  <label for="subdomain-name" class="col-md-4 ">Name</label>
                                  <input type="text" class="form-control" id="subdomain-name">
                                </div>
                                <div class="form-group d-flex">
                                  <label for="subdomain-text" class="col-md-4 ">Description</label>
                                  <textarea class="form-control" id="subdomain-text"></textarea>
                                </div>
                                <div class="form-group d-flex">
                                    <label for="subdomain-text" class="col-md-4 ">Domains</label>
                                    <select name="sd-domains"  id="sd-domains-select" class="form-control "
                                                id="assign-roles">
                                            <option value="Strees" >Strees</option>
                                            <option value="Anxiety">Anxiety</option>
                                        </select>
                                  </div>
                                  <div class="form-group d-flex">
                                    <label for="subdomain-img" class="col-md-4 ">Image</label>
                                    <div class="">
                                        <!-- <div class="imgMask">
                                            <div class="imgMask-content">
                                                +
                                            </div>
                                        </div> -->
                                        <!-- <input type="file" class="imgg" id="imgInp" name="files">
                                        <img id="sub-domain-img" src="#" alt="." /> -->

                                        <div class="upload">
                                            <!-- <h3><span class="upload__length">1 </span>files have been added to the queue</h3> -->
                                            <div class="upload__drop">
                                              <input type="file" class="upload__input" multiple>
                                              <a href="javscript:aviod(0)" class="upload__btn">Select Files</a>
                                              <span>Drag & Drop Files</span>
                                            </div>
                                            <div class="upload__list">
                                               <div class="upload__info flex">
                                                <img src="http://www.eltis.org/sites/default/files/default_images/photo_default_4.png" class="upload__img">
                                                <div class="flex w-100 wrap">
                                                  <p class="upload__name">background </p>
                                                  <p class="upload__size">( 500MB )</p>
                                                  <p class="upload__long"> 50%</p>
                                                  <a href="javascript:void(0)" class="upload__delete upload__btn"><i class="fas fa-minus-circle"></i>  </a>
                                                  <div class="upload__progress">
                                                    <div class="upload__bar"></div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                    </div>
                                  </div>

                                <button type="button" class="btn btn-primary btn-outline-success btn-sm float-right btn-add-domain">Create</button>
                              </form>
                            </div>
                        </div>
                    </div>
                            </div>
                            
                          </div>
                    </div>
                </div>


                </div>
                <!-- Container fluid -->
            </main>
            <!-- page-content" -->
        </div>






    </section>


    <script>
        jQuery(function ($) {

            $(".sidebar-dropdown > a").click(function () {
                $(".sidebar-submenu").slideUp(200);
                if (
                    $(this)
                        .parent()
                        .hasClass("active")
                ) {
                    $(".sidebar-dropdown").removeClass("active");
                    $(this)
                        .parent()
                        .removeClass("active");
                } else {
                    $(".sidebar-dropdown").removeClass("active");
                    $(this)
                        .next(".sidebar-submenu")
                        .slideDown(200);
                    $(this)
                        .parent()
                        .addClass("active");
                }
            });

            $("#close-sidebar").click(function () {
                $(".page-wrapper").removeClass("toggled");
            });
            $("#show-sidebar").click(function () {
                $(".page-wrapper").addClass("toggled");
            });




        });

    </script>


    <script>
        $('#enableselect').click(function () {
            $('#mainform input[name=animal]')
                .attr("disabled", true);

            $('#animal-select')
                .attr('disabled', false)
                .attr('name', 'animal');

            $('#enableselect').hide();
            return false;
        });
    </script>

<script>
    function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    
    reader.onload = function(e) {
      $('#sub-domain-img').attr('src', e.target.result);
    }
    
    reader.readAsDataURL(input.files[0]); // convert to base64 string
  }
}

$("#imgInp").change(function() {
  readURL(this);
});
</script>

<script>
    var viewApp = (function() {
  var classDom = {
    inputFile: document.querySelector(".upload__input"),
    fileList: document.querySelector(".upload__list"),
    uploadLength: document.querySelector(".upload__length"),
    buttonDelete: function() {
      return document.querySelectorAll(".upload__delete");
    }
  };

  function limitTitle(title, limit = 20) {
    var newTitle = [];
    if (title.length > limit) {
      title.split("").reduce(function(acc, cur) {
        if (acc + cur.length < limit) {
          newTitle.push(cur);
        }
        return acc + cur.length;
      }, 0);
      return `${newTitle.join("")}...`;
    }
    return title;
  }

  return {
    classDom,
    addItemToDom: function(appendIn, filesData) {
      filesData.forEach(function(file) {
        if (file.type.startsWith("image")) {
          appendIn.insertAdjacentHTML(
            "beforeend",
            `
                                <div class="upload__info flex">
                                    <img src="${file.url}" class="upload__img">
                                    <div class="flex w-100 wrap">
                                        <p class="upload__name">${limitTitle(
                                          file.name
                                        )}</p>
                                        <p class="upload__size">( ${
                                          file.size
                                        } )</p>
                                        <p class="upload__long"> 50%</p>
                                        <a href="javascript:void(0)" class="upload__delete upload__btn"><i class="fas fa-minus-circle"></i></a>
                                        <div class="upload__progress">
                                            <div class="upload__bar"></div>
                                        </div>
                                    </div>
                                </div> 
                            `
          );
        } else {
          appendIn.insertAdjacentHTML(
            "beforeend",
            `
                                <div class="upload__info flex">
                                    <img src="http://www.eltis.org/sites/default/files/default_images/photo_default_4.png" class="upload__img">
                                    <div class="flex w-100 wrap">
                                        <p class="upload__name">${limitTitle(
                                          file.name
                                        )}</p>
                                        <p class="upload__size">( ${
                                          file.size
                                        } )</p>
                                        <p class="upload__long"> 50%</p>
                                        <a href="javascript:void(0)" class="upload__delete upload__btn"><i class="fas fa-minus-circle"></i> Delete  </a>
                                        <div class="upload__progress">
                                            <div class="upload__bar"></div>
                                        </div>
                                    </div>
                                </div> 
                            `
          );
        }
      });
    },
    updateUploadLength: function(item, uploadList) {
      item.textContent = uploadList.children.length + " ";
    },
    deleteUpload: function(event) {
      event.parentNode.parentNode.remove();
    }
  };
})();

/***********************************************************************************************************************
 *************************************************** MODEL APP *********************************************************/

var modelApp = (function() {
  // Calculator Byte to Kilobyte and Megabyte
  function calcBytes(value) {
    if (value >= 1048576) {
      return Math.floor(value / 1024 / 1024) + "MB";
    } else if (value >= 1024) {
      return Math.floor(value / 1024) + "KB";
    } else if (value < 1024) {
      return Math.floor(value) + "By";
    }
  }

  // File Readers
  function createReader(file) {
    return new Promise(resolve => {
      var reader = new FileReader();
      reader.onload = function() {
        resolve({
          url: reader.result,
          size: calcBytes(file.size),
          name: file.name,
          type: file.type
        });
      };
      reader.readAsDataURL(file);
    });
  }

  return {
    createReader,
    addList: function(input) {
      return new Promise(resolve => {
        var convert = Array.from(input.files);
        var promises = convert.map(cur => createReader(cur));
        var promisesArray = Promise.all(promises);
        resolve(promisesArray);
      });
    }
  };
})();

/***********************************************************************************************************************
 *************************************************** CONTROLLER APP *********************************************************/

var controllerApp = (function(view, model) {
  var store = [];
  var elementApp = view.classDom;

  elementApp.inputFile.addEventListener("change", async function() {
    var result = await model.addList(elementApp.inputFile).then(result => {
      result.map(current => {
        store.push(current);
      });
      return result;
    });
    view.addItemToDom(elementApp.fileList, result);
    view.updateUploadLength(elementApp.uploadLength, elementApp.fileList);
    elementApp.buttonDelete();
  });

  elementApp.buttonDelete().forEach(el => {
    el.addEventListener("click", function() {
      view.deleteUpload(el);
      view.updateUploadLength(elementApp.uploadLength, elementApp.fileList);
    });
  });
})(viewApp, modelApp);

</script>


<script>
  window.onload = function() {


let editBtn = document.querySelector('#edit_content');
let content = document.querySelector('.content');

editBtn.addEventListener('click', () => {
content.contentEditable = !content.isContentEditable;
if(content.contentEditable === 'false') {
  localStorage.setItem('content', content.innerHTML);
}
});
}</script>

    <script src="/js/jquery.treeSelection.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>





</body>

</html>